
@{
    ViewData["Title"] = "Index";
}
@model ICollection<EShop.Web.Models.DbModels.Product>
<div style="margin-top: 20px;">
    <div class="p-b-20">
        <button type="button" class="btn btn-primary">Добавить</button>
    </div>
    <table class="table table-hover" id="tableMain">
        <thead>
            <tr>
                <th>Номер</th>
                <th>Наименование</th>
                <th>Код</th>
                <th>Описание</th>
                <th>Цена</th>
                <th>Категория</th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="(product, index) in products">
                <td>{{ index+1 }}</td>
                <td>{{ product.Name }}</td>
                <td>{{ product.Code }}</td>
                <td>{{ product.Description }}</td>
                <td>{{ product.Price }}</td>
                <td>{{ product.Category.Name }}</td>
            </tr>
        </tbody>
    </table>
</div>
<div class="modal" id="editDlg">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Редактирование</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                @*<form>

                </form>*@
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary">Сохранить</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script type="text/javascript">
        var model = @(Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model)));
        var app = new Vue({
            el: '#tableMain',
            data: {
                products: model,
                selectedProduct: null
            }
        });
    </script>
}
